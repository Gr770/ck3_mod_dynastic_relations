

dr_dynasty_relation_opinion_value = {
    add = scope:current_dynasty_relation.var:value
    if = {
        limit = { exists = scope:current_dynasty_relation.var:friends}
    }
    else_if = {
        limit = { exists = scope:current_dynasty_relation.var:rivals}
    }
    else = {
        divide = 2
    }
    
}

dr_dynasty_relation_yearly_decay_value = 0.5
dr_dynasty_relation_min_value = -70
dr_dynasty_relation_max_value = 70
dr_dynasty_relation_friends_threshold_value = 50
dr_dynasty_relation_friends_to_neutral_threshold_value = 40
dr_dynasty_relation_rivals_threshold_value = -50
dr_dynasty_relation_rivals_to_neutral_threshold_value = -40


dr_dynasty_relation_action_impact_value = {
    value = 0.0
    if = {
        limit = {scope:reason = flag:debug_increase_reason}
        add = dr_dynasty_relation_debug_increase_value
    }
    else_if = {
        limit = {scope:reason = flag:debug_decrease_reason}
        add = dr_dynasty_relation_debug_decrease_value
    }
    else_if = {
        limit = {scope:reason = flag:executed_prisoner_reason}
        add = dr_dynasty_relation_execute_prisoner_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:marriage_reason}
        add = dr_dynasty_relation_marriage_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:grant_titles_reason}
        add = dr_dynasty_relation_grant_titles_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:join_ally_war_reason}
        add = dr_dynasty_relation_join_ally_war_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:revoke_title_tyrannical_reason}
        add = dr_dynasty_relation_revoke_title_tyranny_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:revoke_title_reason}
        add = dr_dynasty_relation_revoke_title_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:imprison_reason}
        add = dr_dynasty_relation_imprison_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:imprison_tyrannical_reason}
        add = dr_dynasty_relation_imprison_tyranny_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:divorce_reason}
        add = dr_dynasty_relation_divorce_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:revoke_vassal_reason}
        add = dr_dynasty_relation_revoke_vassal_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:break_betrothal_reason}
        add = dr_dynasty_relation_break_betrothal_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:befriend_reason}
        add = dr_dynasty_relation_befriend_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:declare_war_reason}
        add = dr_dynasty_relation_declare_war_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:grant_independence_reason}
        add = dr_dynasty_relation_grant_independence_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:murder_reason}
        add = dr_dynasty_relation_murder_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:attempted_murder_reason}
        add = dr_dynasty_relation_attempted_murder_impact_value
    }
    else_if = {
        limit = {scope:reason = flag:extramarital_sex_reason}
        add = dr_dynasty_relation_extramarital_sex_impact_value
    }
}

# Debug actions
dr_dynasty_relation_debug_increase_value = 10.0
dr_dynasty_relation_debug_decrease_value = -10.0

# Execution (TODO REVIEW VALUES)
dr_dynasty_relation_execute_prisoner_impact_value = {
    value = -1.0 
    if = { # Executing the dynasty head
        limit = {scope:target_character.dynasty.dynast = scope:target_character}
        add = -50.0
    }
}

# Marriage (TODO REVIEW VALUES)
dr_dynasty_relation_marriage_impact_value = {
    value = 10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Grant titles (TODO REVIEW VALUES)
dr_dynasty_relation_grant_titles_impact_value = {
    value = 10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Join Ally war (TODO REVIEW VALUES)
dr_dynasty_relation_join_ally_war_impact_value = {
    value = 10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Revoke title tyranically (without reason) (TODO REVIEW VALUES)
dr_dynasty_relation_revoke_title_tyranny_impact_value = {
    value = -10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Revoke title with reason (TODO REVIEW VALUES)
dr_dynasty_relation_revoke_title_impact_value = {
    value = -10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Imprison with reason (TODO REVIEW VALUES)
dr_dynasty_relation_imprison_impact_value = {
    value = -10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}


# Imprison tyranically (TODO REVIEW VALUES)
dr_dynasty_relation_imprison_tyranny_impact_value = {
    value = -15.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Imprison tyranically (TODO REVIEW VALUES)
dr_dynasty_relation_divorce_impact_value = {
    value = -5.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Revoke vassal with reason (TODO REVIEW VALUES)
dr_dynasty_relation_revoke_vassal_impact_value = {
    value = -5.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}


# Break Betrothal (TODO REVIEW VALUES)
dr_dynasty_relation_break_betrothal_impact_value = {
    value = -5.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Break Betrothal (TODO REVIEW VALUES)
dr_dynasty_relation_befriend_impact_value = {
    value = 1.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Break Betrothal (TODO REVIEW VALUES)
dr_dynasty_relation_declare_war_impact_value = {
    value = -15.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Grant independece (TODO REVIEW VALUES)
dr_dynasty_relation_grant_independence_impact_value = {
    value = 5.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Murder (TODO REVIEW VALUES)
dr_dynasty_relation_murder_impact_value = {
    value = -20.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Attempted Murder (TODO REVIEW VALUES)
dr_dynasty_relation_attempted_murder_impact_value = {
    value = -10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}

# Sxtramarital Sex (TODO REVIEW VALUES)
dr_dynasty_relation_extramarital_sex_impact_value = {
    value = -10.0 
    # if = { # Executing the dynasty head
    #     limit = {scope:target_character.dynasty.dynast = scope:target_character}
    #     add = -50.0
    # }
}